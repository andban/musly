<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Musly: libmusly/include/musly/musly.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Musly
   </div>
   <div id="projectbrief">An open-source audio music similarity library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_17a66f1fe5fc0016f2e86246c3406137.html">libmusly</a></li><li class="navelem"><a class="el" href="dir_498629ca7d5076ba54a0a03b916c3237.html">include</a></li><li class="navelem"><a class="el" href="dir_b050bf215cc722406896952933e937a6.html">musly</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">musly.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="musly__types_8h_source.html">musly/musly_types.h</a>&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div>
<p><a href="musly_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a69598017d76c3d22e9f5a897afae1932" id="r_a69598017d76c3d22e9f5a897afae1932"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a></td></tr>
<tr class="memdesc:a69598017d76c3d22e9f5a897afae1932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro marking the exported symbols of the library.  <br /></td></tr>
<tr class="separator:a69598017d76c3d22e9f5a897afae1932"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a36d3b66838e438c8ae065edc422df953" id="r_a36d3b66838e438c8ae065edc422df953"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36d3b66838e438c8ae065edc422df953">musly_version</a> ()</td></tr>
<tr class="memdesc:a36d3b66838e438c8ae065edc422df953"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the version of Musly.  <br /></td></tr>
<tr class="separator:a36d3b66838e438c8ae065edc422df953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507b21c935f4bffa012cc3ddd39921cb" id="r_a507b21c935f4bffa012cc3ddd39921cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a507b21c935f4bffa012cc3ddd39921cb">musly_debug</a> (int level)</td></tr>
<tr class="memdesc:a507b21c935f4bffa012cc3ddd39921cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the musly debug level.  <br /></td></tr>
<tr class="separator:a507b21c935f4bffa012cc3ddd39921cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a298360fe559fc457696db6290ef11" id="r_a44a298360fe559fc457696db6290ef11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44a298360fe559fc457696db6290ef11">musly_jukebox_listmethods</a> ()</td></tr>
<tr class="memdesc:a44a298360fe559fc457696db6290ef11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists all available music similarity methods.  <br /></td></tr>
<tr class="separator:a44a298360fe559fc457696db6290ef11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1bd9d511497a2fedfb57957f4448daa" id="r_aa1bd9d511497a2fedfb57957f4448daa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1bd9d511497a2fedfb57957f4448daa">musly_jukebox_listdecoders</a> ()</td></tr>
<tr class="memdesc:aa1bd9d511497a2fedfb57957f4448daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists all available audio file decoders.  <br /></td></tr>
<tr class="separator:aa1bd9d511497a2fedfb57957f4448daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061d6bbb4d993062dd7cb86b7c50cfee" id="r_a061d6bbb4d993062dd7cb86b7c50cfee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a061d6bbb4d993062dd7cb86b7c50cfee">musly_jukebox_aboutmethod</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox)</td></tr>
<tr class="memdesc:a061d6bbb4d993062dd7cb86b7c50cfee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describe the initialized method.  <br /></td></tr>
<tr class="separator:a061d6bbb4d993062dd7cb86b7c50cfee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae16fd96a7dce26b39c62308ff75523f7" id="r_ae16fd96a7dce26b39c62308ff75523f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae16fd96a7dce26b39c62308ff75523f7">musly_jukebox_methodname</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox)</td></tr>
<tr class="separator:ae16fd96a7dce26b39c62308ff75523f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede4a71d378efc7add84ee9976f7a419" id="r_aede4a71d378efc7add84ee9976f7a419"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aede4a71d378efc7add84ee9976f7a419">musly_jukebox_decodername</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox)</td></tr>
<tr class="separator:aede4a71d378efc7add84ee9976f7a419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c182e51ac0783e310ef6946deae489c" id="r_a5c182e51ac0783e310ef6946deae489c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c182e51ac0783e310ef6946deae489c">musly_jukebox_poweron</a> (const char *method, const char *decoder)</td></tr>
<tr class="memdesc:a5c182e51ac0783e310ef6946deae489c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to an initialized Musly jukebox object.  <br /></td></tr>
<tr class="separator:a5c182e51ac0783e310ef6946deae489c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f910f6495565717254be06c91fdc14d" id="r_a2f910f6495565717254be06c91fdc14d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f910f6495565717254be06c91fdc14d">musly_jukebox_poweroff</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox)</td></tr>
<tr class="memdesc:a2f910f6495565717254be06c91fdc14d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes the given Musly jukebox.  <br /></td></tr>
<tr class="separator:a2f910f6495565717254be06c91fdc14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd5a7f23375a10c9c53c41d651c28ba" id="r_aafd5a7f23375a10c9c53c41d651c28ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba">musly_jukebox_setmusicstyle</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **tracks, int num_tracks)</td></tr>
<tr class="memdesc:aafd5a7f23375a10c9c53c41d651c28ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the jukebox music style.  <br /></td></tr>
<tr class="separator:aafd5a7f23375a10c9c53c41d651c28ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ab9b041a5d538088f23b4f305d93b2" id="r_a08ab9b041a5d538088f23b4f305d93b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2">musly_jukebox_addtracks</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **tracks, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *trackids, int num_tracks, int generate_ids)</td></tr>
<tr class="memdesc:a08ab9b041a5d538088f23b4f305d93b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register tracks with the Musly jukebox.  <br /></td></tr>
<tr class="separator:a08ab9b041a5d538088f23b4f305d93b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4613993bec5a0b873f24ce3b2c21dc91" id="r_a4613993bec5a0b873f24ce3b2c21dc91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4613993bec5a0b873f24ce3b2c21dc91">musly_jukebox_removetracks</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *trackids, int num_tracks)</td></tr>
<tr class="memdesc:a4613993bec5a0b873f24ce3b2c21dc91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deregister tracks from the Musly jukebox.  <br /></td></tr>
<tr class="separator:a4613993bec5a0b873f24ce3b2c21dc91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0571cbd115c4c95d11c0188e2accb35d" id="r_a0571cbd115c4c95d11c0188e2accb35d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0571cbd115c4c95d11c0188e2accb35d">musly_jukebox_trackcount</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox)</td></tr>
<tr class="memdesc:a0571cbd115c4c95d11c0188e2accb35d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of tracks currently registered with the Musly jukebox.  <br /></td></tr>
<tr class="separator:a0571cbd115c4c95d11c0188e2accb35d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb95a8dba7734570aed2a5b76302d433" id="r_afb95a8dba7734570aed2a5b76302d433"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb95a8dba7734570aed2a5b76302d433">musly_jukebox_maxtrackid</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox)</td></tr>
<tr class="memdesc:afb95a8dba7734570aed2a5b76302d433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the largest track identifier ever registered with the Musly jukebox.  <br /></td></tr>
<tr class="separator:afb95a8dba7734570aed2a5b76302d433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50363ebc92b4a734c772eced9061c8b5" id="r_a50363ebc92b4a734c772eced9061c8b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50363ebc92b4a734c772eced9061c8b5">musly_jukebox_gettrackids</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *trackids)</td></tr>
<tr class="memdesc:a50363ebc92b4a734c772eced9061c8b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the trackids of all tracks currently registered with the the Musly jukebox.  <br /></td></tr>
<tr class="separator:a50363ebc92b4a734c772eced9061c8b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a32fa1c7cf6b6108728d93e77bdabe" id="r_a05a32fa1c7cf6b6108728d93e77bdabe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe">musly_jukebox_similarity</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *seed_track, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> seed_trackid, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **tracks, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *trackids, int num_tracks, float *similarities)</td></tr>
<tr class="memdesc:a05a32fa1c7cf6b6108728d93e77bdabe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the similarity between a seed track and a list of other music tracks.  <br /></td></tr>
<tr class="separator:a05a32fa1c7cf6b6108728d93e77bdabe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99facd341ae4c115fb64b09ae09082b8" id="r_a99facd341ae4c115fb64b09ae09082b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99facd341ae4c115fb64b09ae09082b8">musly_jukebox_guessneighbors</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> seed, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *neighbors, int num_neighbors)</td></tr>
<tr class="memdesc:a99facd341ae4c115fb64b09ae09082b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to guess the most similar neighbors to the given trackid.  <br /></td></tr>
<tr class="separator:a99facd341ae4c115fb64b09ae09082b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d563edb9e55a9770993d023764c2565" id="r_a5d563edb9e55a9770993d023764c2565"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d563edb9e55a9770993d023764c2565">musly_jukebox_guessneighbors_filtered</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> seed, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *neighbors, int num_neighbors, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *limit_to, int num_limit_to)</td></tr>
<tr class="memdesc:a5d563edb9e55a9770993d023764c2565"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to guess the most similar neighbors to the given trackid.  <br /></td></tr>
<tr class="separator:a5d563edb9e55a9770993d023764c2565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55cc6a30fcc414fb4d07de4f3edf8b08" id="r_a55cc6a30fcc414fb4d07de4f3edf8b08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55cc6a30fcc414fb4d07de4f3edf8b08">musly_jukebox_binsize</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, int header, int num_tracks)</td></tr>
<tr class="memdesc:a55cc6a30fcc414fb4d07de4f3edf8b08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size in bytes needed for serializing the jukebox state.  <br /></td></tr>
<tr class="separator:a55cc6a30fcc414fb4d07de4f3edf8b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bfecabd056c4fe14c5c524e63880cf4" id="r_a7bfecabd056c4fe14c5c524e63880cf4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7bfecabd056c4fe14c5c524e63880cf4">musly_jukebox_tobin</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, unsigned char *buffer, int header, int num_tracks, int skip_tracks)</td></tr>
<tr class="memdesc:a7bfecabd056c4fe14c5c524e63880cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes the jukebox state into a byte buffer and returns the number of bytes written.  <br /></td></tr>
<tr class="separator:a7bfecabd056c4fe14c5c524e63880cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6993eaf2ed77baa9ce11c6a1edc1dc32" id="r_a6993eaf2ed77baa9ce11c6a1edc1dc32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6993eaf2ed77baa9ce11c6a1edc1dc32">musly_jukebox_frombin</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, unsigned char *buffer, int header, int num_tracks)</td></tr>
<tr class="memdesc:a6993eaf2ed77baa9ce11c6a1edc1dc32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializes the jukebox state from a byte buffer and returns the number of tracks expected or read.  <br /></td></tr>
<tr class="separator:a6993eaf2ed77baa9ce11c6a1edc1dc32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20cce9e4276daa60029f329bd2d659fd" id="r_a20cce9e4276daa60029f329bd2d659fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20cce9e4276daa60029f329bd2d659fd">musly_jukebox_tostream</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, FILE *stream)</td></tr>
<tr class="memdesc:a20cce9e4276daa60029f329bd2d659fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes a jukebox state and writes it to a stream.  <br /></td></tr>
<tr class="separator:a20cce9e4276daa60029f329bd2d659fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8af58195f004decea77c9e646d3a565" id="r_af8af58195f004decea77c9e646d3a565"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8af58195f004decea77c9e646d3a565">musly_jukebox_fromstream</a> (FILE *stream)</td></tr>
<tr class="memdesc:af8af58195f004decea77c9e646d3a565"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores a jukebox from a stream written by <a class="el" href="#a20cce9e4276daa60029f329bd2d659fd" title="Serializes a jukebox state and writes it to a stream.">musly_jukebox_tostream()</a>.  <br /></td></tr>
<tr class="separator:af8af58195f004decea77c9e646d3a565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a507d9cf08a27f2f2f5fd7c9ba3779" id="r_a70a507d9cf08a27f2f2f5fd7c9ba3779"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70a507d9cf08a27f2f2f5fd7c9ba3779">musly_jukebox_tofile</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, const char *filename)</td></tr>
<tr class="memdesc:a70a507d9cf08a27f2f2f5fd7c9ba3779"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes a jukebox state and writes it to a file.  <br /></td></tr>
<tr class="separator:a70a507d9cf08a27f2f2f5fd7c9ba3779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f469704fd74c42ba04e352f78933dd" id="r_a45f469704fd74c42ba04e352f78933dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45f469704fd74c42ba04e352f78933dd">musly_jukebox_fromfile</a> (const char *filename)</td></tr>
<tr class="memdesc:a45f469704fd74c42ba04e352f78933dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores a jukebox from a file written by <a class="el" href="#a70a507d9cf08a27f2f2f5fd7c9ba3779" title="Serializes a jukebox state and writes it to a file.">musly_jukebox_tofile()</a>.  <br /></td></tr>
<tr class="separator:a45f469704fd74c42ba04e352f78933dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af84b4216d280e1c5776f90a6a4a1ecb2" id="r_af84b4216d280e1c5776f90a6a4a1ecb2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af84b4216d280e1c5776f90a6a4a1ecb2">musly_track_alloc</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox)</td></tr>
<tr class="memdesc:af84b4216d280e1c5776f90a6a4a1ecb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a musly_track in memory.  <br /></td></tr>
<tr class="separator:af84b4216d280e1c5776f90a6a4a1ecb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de4892f674f845cf4b0fe2f5af77331" id="r_a3de4892f674f845cf4b0fe2f5af77331"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3de4892f674f845cf4b0fe2f5af77331">musly_track_free</a> (<a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *track)</td></tr>
<tr class="memdesc:a3de4892f674f845cf4b0fe2f5af77331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a musly_track previously allocated with <a class="el" href="#af84b4216d280e1c5776f90a6a4a1ecb2" title="Allocates a musly_track in memory.">musly_track_alloc()</a>.  <br /></td></tr>
<tr class="separator:a3de4892f674f845cf4b0fe2f5af77331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaadef406958fae2c1ad2641a06625f6" id="r_aaaadef406958fae2c1ad2641a06625f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaaadef406958fae2c1ad2641a06625f6">musly_track_size</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox)</td></tr>
<tr class="memdesc:aaaadef406958fae2c1ad2641a06625f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of a musly_track in bytes.  <br /></td></tr>
<tr class="separator:aaaadef406958fae2c1ad2641a06625f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9881ff81ff7664e17e53f254214e0f0" id="r_ae9881ff81ff7664e17e53f254214e0f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0">musly_track_binsize</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox)</td></tr>
<tr class="memdesc:ae9881ff81ff7664e17e53f254214e0f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the buffer size in bytes required to hold a musly_track.  <br /></td></tr>
<tr class="separator:ae9881ff81ff7664e17e53f254214e0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a4b560b32ab16df081add61612f700" id="r_a61a4b560b32ab16df081add61612f700"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61a4b560b32ab16df081add61612f700">musly_track_tobin</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *from_track, unsigned char *to_buffer)</td></tr>
<tr class="memdesc:a61a4b560b32ab16df081add61612f700"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serializes a musly_track to a byte buffer.  <br /></td></tr>
<tr class="separator:a61a4b560b32ab16df081add61612f700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b3102cee953f83b0876e693c5457c1f" id="r_a3b3102cee953f83b0876e693c5457c1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b3102cee953f83b0876e693c5457c1f">musly_track_frombin</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, unsigned char *from_buffer, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *to_track)</td></tr>
<tr class="memdesc:a3b3102cee953f83b0876e693c5457c1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserializes a byte buffer to a musly_track.  <br /></td></tr>
<tr class="separator:a3b3102cee953f83b0876e693c5457c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9c6a23a2ef740b65bfe85eb943a127" id="r_a0b9c6a23a2ef740b65bfe85eb943a127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b9c6a23a2ef740b65bfe85eb943a127">musly_track_tostr</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *from_track)</td></tr>
<tr class="memdesc:a0b9c6a23a2ef740b65bfe85eb943a127"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function displays a string representation of the given musly_track.  <br /></td></tr>
<tr class="separator:a0b9c6a23a2ef740b65bfe85eb943a127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad846b22542dfe3170e3da7e261a21769" id="r_ad846b22542dfe3170e3da7e261a21769"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad846b22542dfe3170e3da7e261a21769">musly_track_analyze_pcm</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, float *mono_22khz_pcm, int length_pcm, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *track)</td></tr>
<tr class="memdesc:ad846b22542dfe3170e3da7e261a21769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute a music similarity model (musly_track) from the given PCM signal.  <br /></td></tr>
<tr class="separator:ad846b22542dfe3170e3da7e261a21769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f53686d5f98ec853277e349d78e320" id="r_af2f53686d5f98ec853277e349d78e320"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2f53686d5f98ec853277e349d78e320">musly_track_analyze_audiofile</a> (<a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> jukebox, const char *audiofile, float excerpt_length, float excerpt_start, <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *track)</td></tr>
<tr class="memdesc:af2f53686d5f98ec853277e349d78e320"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute a music similarity model (musly_track) from the audio file.  <br /></td></tr>
<tr class="separator:af2f53686d5f98ec853277e349d78e320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cee2f92bcf9b04de6fac40c89d2c339" id="r_a7cee2f92bcf9b04de6fac40c89d2c339"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cee2f92bcf9b04de6fac40c89d2c339">musly_findmin</a> (const float *values, const <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *ids, int count, float *min_values, <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *min_ids, int min_count, int ordered)</td></tr>
<tr class="memdesc:a7cee2f92bcf9b04de6fac40c89d2c339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function to find the smallest items in an unordered list of values.  <br /></td></tr>
<tr class="separator:a7cee2f92bcf9b04de6fac40c89d2c339"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a69598017d76c3d22e9f5a897afae1932" name="a69598017d76c3d22e9f5a897afae1932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69598017d76c3d22e9f5a897afae1932">&#9670;&#160;</a></span>MUSLY_EXPORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MUSLY_EXPORT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro marking the exported symbols of the library. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a507b21c935f4bffa012cc3ddd39921cb" name="a507b21c935f4bffa012cc3ddd39921cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507b21c935f4bffa012cc3ddd39921cb">&#9670;&#160;</a></span>musly_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void musly_debug </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the musly debug level. </p>
<p>Valid levels are 0 (Quiet, DEFAULT), 1 (Error), 2 (Warning), 3 (Info), 4 (Debug), 5 (Trace). All output will be sent to stderr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>The musly library debug level; if the level is invalid, it will be set to the closest valid level </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7cee2f92bcf9b04de6fac40c89d2c339" name="a7cee2f92bcf9b04de6fac40c89d2c339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cee2f92bcf9b04de6fac40c89d2c339">&#9670;&#160;</a></span>musly_findmin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_findmin </td>
          <td>(</td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>values</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *</td>          <td class="paramname"><span class="paramname"><em>ids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>min_values</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *</td>          <td class="paramname"><span class="paramname"><em>min_ids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>min_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ordered</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility function to find the smallest items in an unordered list of values. </p>
<p>This can be used to find the top few tracks in the results of a similarity computation done via one or more <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a> calls.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">values</td><td>The array of values to find the smallest items in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ids</td><td>An array of associated track ids. If NULL, proceeds as if this was set to an array of values from <code>0</code> to <code>count - 1</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>The length of <code>values</code> and <code>ids</code> (if given) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">min_values</td><td>An array to write the <code>min_count</code> smallest values to. If NULL, will not write the values. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">min_ids</td><td>An array to write the associated track ids of the <code>min_count</code> smallest items. If NULL, will not write the track ids. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_count</td><td>The number of smallest items to find </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ordered</td><td>If nonzero, <code>min_values</code> and <code>min_ids</code> will be written in ascending order. If zero, they will be unordered (this can be faster).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of items written to <code>min_values</code> and/or <code>min_ids</code>, or -1 in case of an error </dd></dl>

</div>
</div>
<a id="a061d6bbb4d993062dd7cb86b7c50cfee" name="a061d6bbb4d993062dd7cb86b7c50cfee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a061d6bbb4d993062dd7cb86b7c50cfee">&#9670;&#160;</a></span>musly_jukebox_aboutmethod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char * musly_jukebox_aboutmethod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Describe the initialized method. </p>
<p>This call describes the used music similarity method of the referenced musly_jukebox in more detail.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>An initialized reference to a Musly jukebox </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a description of the currently initialized music similarity method as a null terminated string</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a> </dd></dl>

</div>
</div>
<a id="a08ab9b041a5d538088f23b4f305d93b2" name="a08ab9b041a5d538088f23b4f305d93b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ab9b041a5d538088f23b4f305d93b2">&#9670;&#160;</a></span>musly_jukebox_addtracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_addtracks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **</td>          <td class="paramname"><span class="paramname"><em>tracks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *</td>          <td class="paramname"><span class="paramname"><em>trackids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_tracks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>generate_ids</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register tracks with the Musly jukebox. </p>
<p>To use the music similarity routines, each Musly track has to be registered with a jukebox. Internally, Musly computes an indexing and normalization vector for each registered track based on the set of tracks passed to <a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba" title="Initialize the jukebox music style.">musly_jukebox_setmusicstyle()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to add the tracks to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tracks</td><td>An array of musly_track objects to add to the jukebox </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trackids</td><td>The track identifiers for the tracks, either read or written depending on the <code>generate_ids</code> parameter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>The length of the <code>tracks</code> and <code>trackids</code> array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">generate_ids</td><td>controls whether ids are to be generated automatically or given by the caller: If nonzero, Musly will assign sequential identifiers starting from <code>musly_jukebox_maxtrackid(jukebox) + 1</code> and write the ids to <code>trackids</code>. If zero, Musly will assign the ids given in <code>trackids</code>, replacing existing tracks for ids already used by the jukebox.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on an error. When an error is returned, no track was added to Musly.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The tracks themselves are not stored in the jukebox, just some information needed to provide <a class="el" href="#a99facd341ae4c115fb64b09ae09082b8" title="Tries to guess the most similar neighbors to the given trackid.">musly_jukebox_guessneighbors()</a> and to improve <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a>. This design allows Musly to compute recommendations for collections too large to fit all tracks into memory at once.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a4613993bec5a0b873f24ce3b2c21dc91" title="Deregister tracks from the Musly jukebox.">musly_jukebox_removetracks()</a>, <a class="el" href="#a0571cbd115c4c95d11c0188e2accb35d" title="Returns the number of tracks currently registered with the Musly jukebox.">musly_jukebox_trackcount()</a>, <a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba" title="Initialize the jukebox music style.">musly_jukebox_setmusicstyle()</a>, <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a> </dd></dl>

</div>
</div>
<a id="a55cc6a30fcc414fb4d07de4f3edf8b08" name="a55cc6a30fcc414fb4d07de4f3edf8b08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55cc6a30fcc414fb4d07de4f3edf8b08">&#9670;&#160;</a></span>musly_jukebox_binsize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_binsize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>header</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_tracks</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size in bytes needed for serializing the jukebox state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>An initialized Musly jukebox object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">header</td><td>If nonzero, include the size needed for serializing jukebox metadata. This size is dependent on the similarity measure and can also depend on the internal jukebox state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>If greater than zero, include the size needed for serializing the state of <code>num_tracks</code> registered tracks. If negative, include the size needed for serializing the state of all currently registered tracks. This size is dependent on the similarity measure only.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes needed to store the state information</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This method gives the sizes of internal indices built when calling <a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba" title="Initialize the jukebox music style.">musly_jukebox_setmusicstyle()</a> and <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>. For the size of musly_track objects, see <a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a>. </dd></dl>

</div>
</div>
<a id="aede4a71d378efc7add84ee9976f7a419" name="aede4a71d378efc7add84ee9976f7a419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aede4a71d378efc7add84ee9976f7a419">&#9670;&#160;</a></span>musly_jukebox_decodername()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char * musly_jukebox_decodername </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6993eaf2ed77baa9ce11c6a1edc1dc32" name="a6993eaf2ed77baa9ce11c6a1edc1dc32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6993eaf2ed77baa9ce11c6a1edc1dc32">&#9670;&#160;</a></span>musly_jukebox_frombin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_frombin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>header</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_tracks</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deserializes the jukebox state from a byte buffer and returns the number of tracks expected or read. </p>
<p>Use this to restore a jukebox state previously saved with <a class="el" href="#a7bfecabd056c4fe14c5c524e63880cf4" title="Serializes the jukebox state into a byte buffer and returns the number of bytes written.">musly_jukebox_tobin()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>An initialized Musly jukebox object. This must have been initialized with the same music similarity method as the jukebox the state has been exported from, otherwise behavior is undefined. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>The byte buffer to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">header</td><td>If nonzero, will read and restore the jukebox metadata. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>If greater than zero, will read and restore the state of <code>num_tracks</code> registered tracks. If negative, will read and restore the state of all registered tracks (only possible if <code>header</code> is nonzero).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of tracks expected if <code>header</code> is nonzero and <code>num_tracks</code> is zero, the number of tracks read if <code>num_tracks</code> is nonzero, or -1 in case of an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This method deserializes the internal indices built when calling <a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba" title="Initialize the jukebox music style.">musly_jukebox_setmusicstyle()</a> and <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>. For deserialization of musly_track objects, see <a class="el" href="#a3b3102cee953f83b0876e693c5457c1f" title="Deserializes a byte buffer to a musly_track.">musly_track_frombin()</a>.</dd>
<dd>
Data cannot be read on a platform of a different architecture (integer size or byte order) than it was written with. Trying so results in unspecified behavior.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af8af58195f004decea77c9e646d3a565" title="Restores a jukebox from a stream written by musly_jukebox_tostream().">musly_jukebox_fromstream()</a>, <a class="el" href="#a45f469704fd74c42ba04e352f78933dd" title="Restores a jukebox from a file written by musly_jukebox_tofile().">musly_jukebox_fromfile()</a> </dd></dl>

</div>
</div>
<a id="a45f469704fd74c42ba04e352f78933dd" name="a45f469704fd74c42ba04e352f78933dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45f469704fd74c42ba04e352f78933dd">&#9670;&#160;</a></span>musly_jukebox_fromfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> musly_jukebox_fromfile </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restores a jukebox from a file written by <a class="el" href="#a70a507d9cf08a27f2f2f5fd7c9ba3779" title="Serializes a jukebox state and writes it to a file.">musly_jukebox_tofile()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The name of the file to read from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reference to an initialized Musly jukebox object, or NULL in case of an error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Currently, a file cannot be read on a platform of a different architecture (integer size or byte order) than it was written with. Trying so results in an error; the file includes platform information.</dd>
<dd>
Any additional data in the file following the jukebox state will be ignored, so you can freely append custom data after writing it. </dd></dl>

</div>
</div>
<a id="af8af58195f004decea77c9e646d3a565" name="af8af58195f004decea77c9e646d3a565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8af58195f004decea77c9e646d3a565">&#9670;&#160;</a></span>musly_jukebox_fromstream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> musly_jukebox_fromstream </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>stream</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restores a jukebox from a stream written by <a class="el" href="#a20cce9e4276daa60029f329bd2d659fd" title="Serializes a jukebox state and writes it to a stream.">musly_jukebox_tostream()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The file stream to read from. Must be opened in binary mode. The data will be read sequentially, not using any seeking operations, so you can prepend data of your own as long as you position the file pointer to the beginning of the jukebox state before calling this function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to an initialized Musly jukebox object, or NULL in case of an error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Currently, a stream cannot be read on a platform of a different architecture (integer size or byte order) than it was written with. Trying so results in an error; the stream includes platform information.</dd>
<dd>
See the note in <a class="el" href="#a20cce9e4276daa60029f329bd2d659fd" title="Serializes a jukebox state and writes it to a stream.">musly_jukebox_tostream()</a> for compatibility issues.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a20cce9e4276daa60029f329bd2d659fd" title="Serializes a jukebox state and writes it to a stream.">musly_jukebox_tostream()</a> </dd></dl>

</div>
</div>
<a id="a50363ebc92b4a734c772eced9061c8b5" name="a50363ebc92b4a734c772eced9061c8b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50363ebc92b4a734c772eced9061c8b5">&#9670;&#160;</a></span>musly_jukebox_gettrackids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_gettrackids </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *</td>          <td class="paramname"><span class="paramname"><em>trackids</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the trackids of all tracks currently registered with the the Musly jukebox. </p>
<p>Use <a class="el" href="#a0571cbd115c4c95d11c0188e2accb35d" title="Returns the number of tracks currently registered with the Musly jukebox.">musly_jukebox_trackcount()</a> to ask how many trackids will be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to query </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">trackids</td><td>The ids of all registered tracks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of track ids written, or -1 in case of an error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a0571cbd115c4c95d11c0188e2accb35d" title="Returns the number of tracks currently registered with the Musly jukebox.">musly_jukebox_trackcount()</a> </dd></dl>

</div>
</div>
<a id="a99facd341ae4c115fb64b09ae09082b8" name="a99facd341ae4c115fb64b09ae09082b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99facd341ae4c115fb64b09ae09082b8">&#9670;&#160;</a></span>musly_jukebox_guessneighbors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_guessneighbors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a></td>          <td class="paramname"><span class="paramname"><em>seed</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *</td>          <td class="paramname"><span class="paramname"><em>neighbors</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_neighbors</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to guess the most similar neighbors to the given trackid. </p>
<p>If similarity measures implement this call, it is usually a very efficient way to pre-filter the whole jukebox collection for possible matches (neighbors) to the query song (seed). The musly_tracks do not have to be loaded to memory to use that call. It operates solely on an index usually built when adding the tracks to the jukebox (<a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>). A maximum of <code>num_neighbors</code> track ids is written to the <code>neighbors</code> list. The returned neighbors can be used to drastically reduce the number of input tracks (and thus computation time) for <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a>. If the method is not implemented or all neighbors should be analyzed, -1 is returned. In that case consider all musly_tracks as possible nearest neighbors and thus as input to <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>An initialized Musly jukebox object with tracks added through <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seed</td><td>The seed track id to search for its nearest neighbors </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">neighbors</td><td>The neighbors will be written to this preallocated array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_neighbors</td><td>The maximum number of neighbors to write to the <code>neighbors</code> array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of neighbors written to the array, or -1 on an error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a>, <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a> </dd></dl>

</div>
</div>
<a id="a5d563edb9e55a9770993d023764c2565" name="a5d563edb9e55a9770993d023764c2565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d563edb9e55a9770993d023764c2565">&#9670;&#160;</a></span>musly_jukebox_guessneighbors_filtered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_guessneighbors_filtered </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a></td>          <td class="paramname"><span class="paramname"><em>seed</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *</td>          <td class="paramname"><span class="paramname"><em>neighbors</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_neighbors</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *</td>          <td class="paramname"><span class="paramname"><em>limit_to</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_limit_to</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to guess the most similar neighbors to the given trackid. </p>
<p>In contrast to <a class="el" href="#a99facd341ae4c115fb64b09ae09082b8" title="Tries to guess the most similar neighbors to the given trackid.">musly_jukebox_guessneighbors()</a>, this version does not search for neighbor candidates among all registered tracks of the jukebox, but allows to limit the search to a list of tracks identified by their track ids. This can be useful to incorporate external search results, e.g., using metadata.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="#a5d563edb9e55a9770993d023764c2565" title="Tries to guess the most similar neighbors to the given trackid.">musly_jukebox_guessneighbors_filtered()</a> with <code>num_limit_to</code> set to zero is exactly equivalent to <a class="el" href="#a99facd341ae4c115fb64b09ae09082b8" title="Tries to guess the most similar neighbors to the given trackid.">musly_jukebox_guessneighbors()</a>. <a class="el" href="#a5d563edb9e55a9770993d023764c2565" title="Tries to guess the most similar neighbors to the given trackid.">musly_jukebox_guessneighbors_filtered()</a> with <code>limit_to</code> set to a list of all registered track ids will generally also return the same results as <a class="el" href="#a99facd341ae4c115fb64b09ae09082b8" title="Tries to guess the most similar neighbors to the given trackid.">musly_jukebox_guessneighbors()</a>, but may be a lot slower due to additional lookups and worse locality.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>An initialized Musly jukebox object with tracks added through musly_jukebox_addtrack() </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seed</td><td>The seed track id to search for its nearest neighbors </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">neighbors</td><td>The neighbors will be written to this preallocated array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_neighbors</td><td>The maximum number of neighbors to write to the neighbors array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">limit_to</td><td>A list of track ids to limit the search to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_limit_to</td><td>The length of the <code>limit_to</code> array; if zero, <code>limit_to</code> is ignored and all registered track ids are searched instead</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of neighbors written to the array, or -1 on an error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a99facd341ae4c115fb64b09ae09082b8" title="Tries to guess the most similar neighbors to the given trackid.">musly_jukebox_guessneighbors()</a>, <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a> </dd></dl>

</div>
</div>
<a id="aa1bd9d511497a2fedfb57957f4448daa" name="aa1bd9d511497a2fedfb57957f4448daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1bd9d511497a2fedfb57957f4448daa">&#9670;&#160;</a></span>musly_jukebox_listdecoders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char * musly_jukebox_listdecoders </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists all available audio file decoders. </p>
<p>The decoders are returned as a single null terminated string. The decoders are separated by a comma (,). Use a decoder name to power on a Musly jukebox. The decoders are used in <a class="el" href="#af2f53686d5f98ec853277e349d78e320" title="Compute a music similarity model (musly_track) from the audio file.">musly_track_analyze_audiofile()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>all available audio file decoders</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a> </dd></dl>

</div>
</div>
<a id="a44a298360fe559fc457696db6290ef11" name="a44a298360fe559fc457696db6290ef11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44a298360fe559fc457696db6290ef11">&#9670;&#160;</a></span>musly_jukebox_listmethods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char * musly_jukebox_listmethods </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists all available music similarity methods. </p>
<p>The methods are returned as a single null terminated string. The methods are separated by a comma (,). Use a method name to power on a Musly jukebox.</p>
<dl class="section return"><dt>Returns</dt><dd>all available music similarity methods</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a> </dd></dl>

</div>
</div>
<a id="afb95a8dba7734570aed2a5b76302d433" name="afb95a8dba7734570aed2a5b76302d433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb95a8dba7734570aed2a5b76302d433">&#9670;&#160;</a></span>musly_jukebox_maxtrackid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> musly_jukebox_maxtrackid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the largest track identifier ever registered with the Musly jukebox. </p>
<p>Along with <a class="el" href="#a0571cbd115c4c95d11c0188e2accb35d" title="Returns the number of tracks currently registered with the Musly jukebox.">musly_jukebox_trackcount()</a>, this can be used for versioning the state of a jukebox: <code>(maxtrackid+1).(maxtrackid+1-trackcount)</code> is a two-element version number that will never decrease in the lifetime of a jukebox, provided that <a class="el" href="#afb95a8dba7734570aed2a5b76302d433" title="Returns the largest track identifier ever registered with the Musly jukebox.">musly_jukebox_maxtrackid()</a> always increases when adding a track.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the largest trackid seen by <code>jukebox</code>, -1 if it has not seen any</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>, <a class="el" href="#a4613993bec5a0b873f24ce3b2c21dc91" title="Deregister tracks from the Musly jukebox.">musly_jukebox_removetracks()</a> </dd></dl>

</div>
</div>
<a id="ae16fd96a7dce26b39c62308ff75523f7" name="ae16fd96a7dce26b39c62308ff75523f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae16fd96a7dce26b39c62308ff75523f7">&#9670;&#160;</a></span>musly_jukebox_methodname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char * musly_jukebox_methodname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2f910f6495565717254be06c91fdc14d" name="a2f910f6495565717254be06c91fdc14d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f910f6495565717254be06c91fdc14d">&#9670;&#160;</a></span>musly_jukebox_poweroff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void musly_jukebox_poweroff </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitializes the given Musly jukebox. </p>
<p>The referenced method and decoder objects are freed. Previously allocated Musly tracks allocated with <a class="el" href="#af84b4216d280e1c5776f90a6a4a1ecb2" title="Allocates a musly_track in memory.">musly_track_alloc()</a> need to be freed separately. The referenced Musly jukebox object is invalidated by this call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to deinitialize</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a> </dd></dl>

</div>
</div>
<a id="a5c182e51ac0783e310ef6946deae489c" name="a5c182e51ac0783e310ef6946deae489c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c182e51ac0783e310ef6946deae489c">&#9670;&#160;</a></span>musly_jukebox_poweron()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a> musly_jukebox_poweron </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>method</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>decoder</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a reference to an initialized Musly jukebox object. </p>
<p>To initialize Musly, you need to specify a music similarity method and decoder to use. You can set both values to 0 (NULL) to initialize the default method and decoder. To list all available music similarity methods, use <a class="el" href="#a44a298360fe559fc457696db6290ef11" title="Lists all available music similarity methods.">musly_jukebox_listmethods()</a>. To list all available audio file decoders, use <a class="el" href="#aa1bd9d511497a2fedfb57957f4448daa" title="Lists all available audio file decoders.">musly_jukebox_listdecoders()</a>. If the initialization fails, NULL is returned. To get more information about the initialized music similarity method, use <a class="el" href="#a061d6bbb4d993062dd7cb86b7c50cfee" title="Describe the initialized method.">musly_jukebox_aboutmethod()</a>.</p>
<p>The returned reference is required for almost all subsequent Musly library calls. To add a music track to the jukebox inventory, use <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>. To compute recommendations with the jukebox, use <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a>. Note that before adding tracks or computing similarities, the music style needs to be set with <a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba" title="Initialize the jukebox music style.">musly_jukebox_setmusicstyle()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">method</td><td>The desired music similarity method </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">decoder</td><td>The desired decoder to initialize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reference to an initialized Musly jukebox object</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a2f910f6495565717254be06c91fdc14d" title="Deinitializes the given Musly jukebox.">musly_jukebox_poweroff()</a>, <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>, <a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba" title="Initialize the jukebox music style.">musly_jukebox_setmusicstyle()</a>, <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a> </dd></dl>

</div>
</div>
<a id="a4613993bec5a0b873f24ce3b2c21dc91" name="a4613993bec5a0b873f24ce3b2c21dc91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4613993bec5a0b873f24ce3b2c21dc91">&#9670;&#160;</a></span>musly_jukebox_removetracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_removetracks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *</td>          <td class="paramname"><span class="paramname"><em>trackids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_tracks</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deregister tracks from the Musly jukebox. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to remove the tracks from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trackids</td><td>The track identifiers of the tracks to remove, unknown identifiers will be silently ignored </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>The length of the <code>trackids</code> array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on an error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>, <a class="el" href="#a0571cbd115c4c95d11c0188e2accb35d" title="Returns the number of tracks currently registered with the Musly jukebox.">musly_jukebox_trackcount()</a> </dd></dl>

</div>
</div>
<a id="aafd5a7f23375a10c9c53c41d651c28ba" name="aafd5a7f23375a10c9c53c41d651c28ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafd5a7f23375a10c9c53c41d651c28ba">&#9670;&#160;</a></span>musly_jukebox_setmusicstyle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_setmusicstyle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **</td>          <td class="paramname"><span class="paramname"><em>tracks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_tracks</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the jukebox music style. </p>
<p>To properly use the similarity function, it is necessary to give the algorithms a hint about the music we are working with. Do this by passing a representative sample of the tracks you want to compute similarities for: as a rule of thumb, use a maximum of 1000 randomly selected tracks to set the music style (random selection is important to get a representative sample; if the sample is biased, results will be suboptimal). The tracks are analyzed and copied to internal storage as needed, so you may safely deallocate the given array and tracks after the call.</p>
<dl class="section note"><dt>Note</dt><dd>This must be called before adding any tracks to the jukebox. If you change the music style of a filled jukebox, you need to re-register all existing tracks via <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>, otherwise tracks added after the style change will not be properly compared to tracks added before the change.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to set the music style for </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tracks</td><td>A random sample array of Musly tracks to use for the initialization </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>The number of Musly tracks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on an error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a>, <a class="el" href="#ad846b22542dfe3170e3da7e261a21769" title="Compute a music similarity model (musly_track) from the given PCM signal.">musly_track_analyze_pcm()</a>, <a class="el" href="#af2f53686d5f98ec853277e349d78e320" title="Compute a music similarity model (musly_track) from the audio file.">musly_track_analyze_audiofile()</a> </dd></dl>

</div>
</div>
<a id="a05a32fa1c7cf6b6108728d93e77bdabe" name="a05a32fa1c7cf6b6108728d93e77bdabe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05a32fa1c7cf6b6108728d93e77bdabe">&#9670;&#160;</a></span>musly_jukebox_similarity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_similarity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *</td>          <td class="paramname"><span class="paramname"><em>seed_track</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a></td>          <td class="paramname"><span class="paramname"><em>seed_trackid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> **</td>          <td class="paramname"><span class="paramname"><em>tracks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a792054f9e0bc4891cf6e8f4483895f12">musly_trackid</a> *</td>          <td class="paramname"><span class="paramname"><em>trackids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_tracks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>similarities</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the similarity between a seed track and a list of other music tracks. </p>
<p>To compute similarities between two music tracks, the following steps have to been taken:</p>
<ul>
<li>initialize a musly_jukebox object: <a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a></li>
<li>analyze audio files, e.g. with <a class="el" href="#af2f53686d5f98ec853277e349d78e320" title="Compute a music similarity model (musly_track) from the audio file.">musly_track_analyze_audiofile()</a></li>
<li>set the music style of the jukebox by using a representative sample of the audio tracks analyzed: <a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba" title="Initialize the jukebox music style.">musly_jukebox_setmusicstyle()</a></li>
<li>register the audio tracks with the jukebox: <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a></li>
<li>(optionally) find good candidate tracks: <a class="el" href="#a99facd341ae4c115fb64b09ae09082b8" title="Tries to guess the most similar neighbors to the given trackid.">musly_jukebox_guessneighbors()</a></li>
<li>use this function to compute similarities (in one go or in batches)</li>
<li>(optionally) find the most similar tracks: <a class="el" href="#a7cee2f92bcf9b04de6fac40c89d2c339" title="Utility function to find the smallest items in an unordered list of values.">musly_findmin()</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>An initialized Musly jukebox object with tracks added through <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seed_track</td><td>The seed track to compute similarities to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seed_trackid</td><td>The id of the seed track as returned by or given to <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tracks</td><td>An array of musly_track objects to compute the similarities to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trackids</td><td>An array of musly_trackids corresponding to the <code>tracks</code> array, as returned by or given to <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>The size of the <code>tracks</code>, <code>trackids</code> and <code>similarities</code> arrays </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">similarities</td><td>A preallocated float array to write the computed similarities to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on an error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This needs both the musly_trackids the tracks were registered with in <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a> and the musly_track objects themselves, as those are not stored in the jukebox. This design allows to compute similarities for collections too large to fit all tracks into memory at once, by calling <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a> repeatedly with <code>tracks</code> and <code>trackids</code> set to subsets of the collection loaded in small batches.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a>, <a class="el" href="#af2f53686d5f98ec853277e349d78e320" title="Compute a music similarity model (musly_track) from the audio file.">musly_track_analyze_audiofile()</a>, <a class="el" href="#ad846b22542dfe3170e3da7e261a21769" title="Compute a music similarity model (musly_track) from the given PCM signal.">musly_track_analyze_pcm()</a>, <a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba" title="Initialize the jukebox music style.">musly_jukebox_setmusicstyle()</a>, <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>, <a class="el" href="#a7cee2f92bcf9b04de6fac40c89d2c339" title="Utility function to find the smallest items in an unordered list of values.">musly_findmin()</a> </dd></dl>

</div>
</div>
<a id="a7bfecabd056c4fe14c5c524e63880cf4" name="a7bfecabd056c4fe14c5c524e63880cf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bfecabd056c4fe14c5c524e63880cf4">&#9670;&#160;</a></span>musly_jukebox_tobin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_tobin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>header</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_tracks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>skip_tracks</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serializes the jukebox state into a byte buffer and returns the number of bytes written. </p>
<p>Call <a class="el" href="#a55cc6a30fcc414fb4d07de4f3edf8b08" title="Returns the size in bytes needed for serializing the jukebox state.">musly_jukebox_binsize()</a> to determine the required buffer size, and <a class="el" href="#a6993eaf2ed77baa9ce11c6a1edc1dc32" title="Deserializes the jukebox state from a byte buffer and returns the number of tracks expected or read.">musly_jukebox_frombin()</a> to deserialize a jukebox state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>An initialized Musly jukebox object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>The buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">header</td><td>If nonzero, write the jukebox metadata. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_tracks</td><td>The number of registered tracks to write the jukebox state for. If negative or too large, writes the state for all except the first <code>skip_tracks</code> registered tracks. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">skip_tracks</td><td>The number of tracks to skip. Must be in range [0, get_trackcount()]. Must be 0 if <code>header</code> is nonzero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes written to the buffer, or -1 in case of an error</dd></dl>
<dl class="section note"><dt>Note</dt><dd><code>skip_tracks</code> allows to serialize the jukebox state in small portions. Set <code>num_tracks</code> to the number of track states you can handle at once, then call <a class="el" href="#a7bfecabd056c4fe14c5c524e63880cf4" title="Serializes the jukebox state into a byte buffer and returns the number of bytes written.">musly_jukebox_tobin()</a> repeatedly in a loop, setting <code>skip_tracks</code> to the number of track states you have already serialized.</dd>
<dd>
This method serializes the internal indices built when calling <a class="el" href="#aafd5a7f23375a10c9c53c41d651c28ba" title="Initialize the jukebox music style.">musly_jukebox_setmusicstyle()</a> and <a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>. For serialization of musly_track objects, see <a class="el" href="#a61a4b560b32ab16df081add61612f700" title="Serializes a musly_track to a byte buffer.">musly_track_tobin()</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a20cce9e4276daa60029f329bd2d659fd" title="Serializes a jukebox state and writes it to a stream.">musly_jukebox_tostream()</a>, <a class="el" href="#a70a507d9cf08a27f2f2f5fd7c9ba3779" title="Serializes a jukebox state and writes it to a file.">musly_jukebox_tofile()</a> </dd></dl>

</div>
</div>
<a id="a70a507d9cf08a27f2f2f5fd7c9ba3779" name="a70a507d9cf08a27f2f2f5fd7c9ba3779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a507d9cf08a27f2f2f5fd7c9ba3779">&#9670;&#160;</a></span>musly_jukebox_tofile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_tofile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serializes a jukebox state and writes it to a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jukebox</td><td>An initialized Musly jukebox object </td></tr>
    <tr><td class="paramname">filename</td><td>The name of the file to write to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written, or -1 in case of an error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a45f469704fd74c42ba04e352f78933dd" title="Restores a jukebox from a file written by musly_jukebox_tofile().">musly_jukebox_fromfile()</a>, <a class="el" href="#a20cce9e4276daa60029f329bd2d659fd" title="Serializes a jukebox state and writes it to a stream.">musly_jukebox_tostream()</a> </dd></dl>

</div>
</div>
<a id="a20cce9e4276daa60029f329bd2d659fd" name="a20cce9e4276daa60029f329bd2d659fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20cce9e4276daa60029f329bd2d659fd">&#9670;&#160;</a></span>musly_jukebox_tostream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_tostream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>stream</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serializes a jukebox state and writes it to a stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jukebox</td><td>An initialized Musly jukebox object </td></tr>
    <tr><td class="paramname">stream</td><td>The file stream to write to. Must be opened in binary mode. The data will be written sequentially, not using any seeking operations, so you can prepend or append data of your own.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written, or -1 in case of an error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>While this is the most efficient way to embed the jukebox state in a custom file you write, it will only work if libmusly was linked against the same implementation of the C standard library as your application code. To use it, define <code>MUSLY_SUPPORT_STDIO</code> before including <code><a class="el" href="musly_8h.html">musly.h</a></code>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af8af58195f004decea77c9e646d3a565" title="Restores a jukebox from a stream written by musly_jukebox_tostream().">musly_jukebox_fromstream()</a>, <a class="el" href="#a70a507d9cf08a27f2f2f5fd7c9ba3779" title="Serializes a jukebox state and writes it to a file.">musly_jukebox_tofile()</a> </dd></dl>

</div>
</div>
<a id="a0571cbd115c4c95d11c0188e2accb35d" name="a0571cbd115c4c95d11c0188e2accb35d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0571cbd115c4c95d11c0188e2accb35d">&#9670;&#160;</a></span>musly_jukebox_trackcount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_jukebox_trackcount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of tracks currently registered with the Musly jukebox. </p>
<p>Along with <a class="el" href="#afb95a8dba7734570aed2a5b76302d433" title="Returns the largest track identifier ever registered with the Musly jukebox.">musly_jukebox_maxtrackid()</a>, this can be used for versioning the state of a jukebox.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of tracks currently registered with <code>jukebox</code>, or -1 on an error</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a08ab9b041a5d538088f23b4f305d93b2" title="Register tracks with the Musly jukebox.">musly_jukebox_addtracks()</a>, <a class="el" href="#a4613993bec5a0b873f24ce3b2c21dc91" title="Deregister tracks from the Musly jukebox.">musly_jukebox_removetracks()</a> </dd></dl>

</div>
</div>
<a id="af84b4216d280e1c5776f90a6a4a1ecb2" name="af84b4216d280e1c5776f90a6a4a1ecb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af84b4216d280e1c5776f90a6a4a1ecb2">&#9670;&#160;</a></span>musly_track_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> <a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> * musly_track_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a musly_track in memory. </p>
<p>As the size of a musly_track varies for each music similarity method, an initialized Musly jukebox object reference needs to be passed as an argument. You need to free the allocated musly_track with <a class="el" href="#a3de4892f674f845cf4b0fe2f5af77331" title="Frees a musly_track previously allocated with musly_track_alloc().">musly_track_free()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized Musly jukebox object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an allocated musly_track (float array)</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a3de4892f674f845cf4b0fe2f5af77331" title="Frees a musly_track previously allocated with musly_track_alloc().">musly_track_free()</a> </dd></dl>

</div>
</div>
<a id="af2f53686d5f98ec853277e349d78e320" name="af2f53686d5f98ec853277e349d78e320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f53686d5f98ec853277e349d78e320">&#9670;&#160;</a></span>musly_track_analyze_audiofile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_analyze_audiofile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>audiofile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>excerpt_length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>excerpt_start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *</td>          <td class="paramname"><span class="paramname"><em>track</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute a music similarity model (musly_track) from the audio file. </p>
<p>The audio file is decoded with the decoder selected when initializing the musly_jukebox, down- and re-sampled to a 22050Hz mono signal before a musly_track is computed. The audio is analyzed according to the initialized music similarity method and the musly_track is filled with the feature data. To compute the similarity to other musly_track objects, use the <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a> function. If you already decoded the PCM signal of the music you want to analyze, use <a class="el" href="#ad846b22542dfe3170e3da7e261a21769" title="Compute a music similarity model (musly_track) from the given PCM signal.">musly_track_analyze_pcm()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>While you can control which portion of the file will be decoded and passed to <a class="el" href="#ad846b22542dfe3170e3da7e261a21769" title="Compute a music similarity model (musly_track) from the given PCM signal.">musly_track_analyze_pcm()</a>, it depends on the music similarity measure whether the full excerpt is going to be used to build the similarity model. Generally, it is enough to decode 30 to 60 seconds, and it is advisable to exclude nonrepresentative parts such as the intro and outro of a song.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized musly_jukebox object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">audiofile</td><td>An audio file. The file will be decoded with the audio decoder. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">excerpt_length</td><td>The maximum length in seconds of the excerpt to decode. If zero or greater than the file length, decodes the whole file. Suggested value: 30. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">excerpt_start</td><td>The starting position in seconds of the excerpt to decode. If zero, decoding starts at the beginning. If negative, the excerpt is centered in the file, but starts at <code>-excerpt_start</code> the latest. If positive and <code>excerpt_start + excerpt_length</code> exceeds the file length, then the excerpt is taken from the end of the file. Suggested value: -48. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">track</td><td>The musly_track to write the music similarity features to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af2f53686d5f98ec853277e349d78e320" title="Compute a music similarity model (musly_track) from the audio file.">musly_track_analyze_audiofile()</a>, <a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a>. </dd></dl>

</div>
</div>
<a id="ad846b22542dfe3170e3da7e261a21769" name="ad846b22542dfe3170e3da7e261a21769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad846b22542dfe3170e3da7e261a21769">&#9670;&#160;</a></span>musly_track_analyze_pcm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_analyze_pcm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *</td>          <td class="paramname"><span class="paramname"><em>mono_22khz_pcm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>length_pcm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *</td>          <td class="paramname"><span class="paramname"><em>track</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute a music similarity model (musly_track) from the given PCM signal. </p>
<p>The audio is analyzed according to the initialized music similarity method and the musly_track is filled with the feature data. The musly_track can then be used to compute the music similarity between other musly_track features (use <a class="el" href="#a05a32fa1c7cf6b6108728d93e77bdabe" title="Computes the similarity between a seed track and a list of other music tracks.">musly_jukebox_similarity()</a>). If you are analyzing music files, use <a class="el" href="#af2f53686d5f98ec853277e349d78e320" title="Compute a music similarity model (musly_track) from the audio file.">musly_track_analyze_audiofile()</a> which does the decoding and down-/re-sampling of audio itself.</p>
<dl class="section note"><dt>Note</dt><dd>Depending on the music similarity method, not all of the given signal will be used in the computation, but possibly only the central 60 seconds.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized musly_jukebox object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mono_22khz_pcm</td><td>The audio signal to analyze represented as a PCM float array. The audio signal has to be mono and sampled at 22050 Hz with float values between -1.0 and +1.0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length_pcm</td><td>The length of the input float array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">track</td><td>The musly_track to write the music similarity features to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af2f53686d5f98ec853277e349d78e320" title="Compute a music similarity model (musly_track) from the audio file.">musly_track_analyze_audiofile()</a>, <a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a>. </dd></dl>

</div>
</div>
<a id="ae9881ff81ff7664e17e53f254214e0f0" name="ae9881ff81ff7664e17e53f254214e0f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9881ff81ff7664e17e53f254214e0f0">&#9670;&#160;</a></span>musly_track_binsize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_binsize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the buffer size in bytes required to hold a musly_track. </p>
<p>To serialize a musly_track for platform-independent usage, call <a class="el" href="#a61a4b560b32ab16df081add61612f700" title="Serializes a musly_track to a byte buffer.">musly_track_tobin()</a>, otherwise just copy the memory directly. The size returned is dependent on the music similarity method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized musly_jukebox object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the required buffer size required to hold a musly_track</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a>, <a class="el" href="#a61a4b560b32ab16df081add61612f700" title="Serializes a musly_track to a byte buffer.">musly_track_tobin()</a>, <a class="el" href="#a3b3102cee953f83b0876e693c5457c1f" title="Deserializes a byte buffer to a musly_track.">musly_track_frombin()</a>. </dd></dl>

</div>
</div>
<a id="a3de4892f674f845cf4b0fe2f5af77331" name="a3de4892f674f845cf4b0fe2f5af77331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de4892f674f845cf4b0fe2f5af77331">&#9670;&#160;</a></span>musly_track_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> void musly_track_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *</td>          <td class="paramname"><span class="paramname"><em>track</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a musly_track previously allocated with <a class="el" href="#af84b4216d280e1c5776f90a6a4a1ecb2" title="Allocates a musly_track in memory.">musly_track_alloc()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>The musly track you want to free</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af84b4216d280e1c5776f90a6a4a1ecb2" title="Allocates a musly_track in memory.">musly_track_alloc()</a> </dd></dl>

</div>
</div>
<a id="a3b3102cee953f83b0876e693c5457c1f" name="a3b3102cee953f83b0876e693c5457c1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b3102cee953f83b0876e693c5457c1f">&#9670;&#160;</a></span>musly_track_frombin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_frombin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>from_buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *</td>          <td class="paramname"><span class="paramname"><em>to_track</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deserializes a byte buffer to a musly_track. </p>
<p>Use this method re-transform a previously serialized byte buffer (<a class="el" href="#a61a4b560b32ab16df081add61612f700" title="Serializes a musly_track to a byte buffer.">musly_track_tobin()</a>) to a musly_track. From the buffer <a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a> bytes will be read.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized musly_jukebox object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_buffer</td><td>The buffer to use for deserialization </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_track</td><td>The musly_track to store the deserialized track</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes read (<a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a>) in case of success, -1 in case of an error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This transforms the musly_track data from network byte order (which is big endian) to host byte order. If you do not need to transmit the data across platforms, you can directly copy <a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a> bytes from <code>from_buffer</code> to <code>to_track</code>, or not use a buffer at all.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a>, <a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a>, <a class="el" href="#a61a4b560b32ab16df081add61612f700" title="Serializes a musly_track to a byte buffer.">musly_track_tobin()</a>. </dd></dl>

</div>
</div>
<a id="aaaadef406958fae2c1ad2641a06625f6" name="aaaadef406958fae2c1ad2641a06625f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaadef406958fae2c1ad2641a06625f6">&#9670;&#160;</a></span>musly_track_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size of a musly_track in bytes. </p>
<p>In case you want to allocate the musly_track yourself, allocate the memory and cast the memory to a musly_track. The size of each musly_track varies from music similarity method to method, that is, the size depends on the method musly has been initialized with (<a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a>). For safe serializing and deserializing of a musly_track to/from memory use <a class="el" href="#a61a4b560b32ab16df081add61612f700" title="Serializes a musly_track to a byte buffer.">musly_track_tobin()</a> and <a class="el" href="#a3b3102cee953f83b0876e693c5457c1f" title="Deserializes a byte buffer to a musly_track.">musly_track_frombin()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized musly_jukebox object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes of a musly_track for the given musly_jukebox.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a>, <a class="el" href="#a61a4b560b32ab16df081add61612f700" title="Serializes a musly_track to a byte buffer.">musly_track_tobin()</a>, <a class="el" href="#a3b3102cee953f83b0876e693c5457c1f" title="Deserializes a byte buffer to a musly_track.">musly_track_frombin()</a>. </dd></dl>

</div>
</div>
<a id="a61a4b560b32ab16df081add61612f700" name="a61a4b560b32ab16df081add61612f700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a4b560b32ab16df081add61612f700">&#9670;&#160;</a></span>musly_track_tobin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> int musly_track_tobin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *</td>          <td class="paramname"><span class="paramname"><em>from_track</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>to_buffer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serializes a musly_track to a byte buffer. </p>
<p>Use this method to store or transmit a musly_track. <a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a> bytes will be written to to_buffer. To deserialize a buffer use <a class="el" href="#a3b3102cee953f83b0876e693c5457c1f" title="Deserializes a byte buffer to a musly_track.">musly_track_frombin()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>A reference to an initialized musly_jukebox object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_track</td><td>The track to serialize </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">to_buffer</td><td>The buffer receiving the serialized track. The buffer needs to be preallocated with at least <a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a> bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written (<a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a>) in case of success, -1 in case of an error</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This transforms the musly_track data from host byte order to network byte order (which is big endian). If you do not need to transmit the data across platforms, you can directly copy <a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a> bytes from <code>from_track</code> to <code>to_buffer</code>, or not use a buffer at all.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c182e51ac0783e310ef6946deae489c" title="Returns a reference to an initialized Musly jukebox object.">musly_jukebox_poweron()</a>, <a class="el" href="#ae9881ff81ff7664e17e53f254214e0f0" title="Returns the buffer size in bytes required to hold a musly_track.">musly_track_binsize()</a>, <a class="el" href="#a3b3102cee953f83b0876e693c5457c1f" title="Deserializes a byte buffer to a musly_track.">musly_track_frombin()</a>. </dd></dl>

</div>
</div>
<a id="a0b9c6a23a2ef740b65bfe85eb943a127" name="a0b9c6a23a2ef740b65bfe85eb943a127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9c6a23a2ef740b65bfe85eb943a127">&#9670;&#160;</a></span>musly_track_tostr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char * musly_track_tostr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#a8018c4e3ad571b4bbcdd9ade2c3a1ab5">musly_jukebox</a></td>          <td class="paramname"><span class="paramname"><em>jukebox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="musly__types_8h.html#aa584590cd7f056b50b940138d5e7777b">musly_track</a> *</td>          <td class="paramname"><span class="paramname"><em>from_track</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function displays a string representation of the given musly_track. </p>
<p>The data is displayed in a flat format. All data structures (matrices, covariance matrices) are exported as vectors. This call can be used to export the feature data for further analysis.</p>
<dl class="section note"><dt>Note</dt><dd>This function is not threadsafe!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">jukebox</td><td>The Musly jukebox to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_track</td><td>The musly_track to convert into a string representation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a constant null terminated string representing from_track</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a61a4b560b32ab16df081add61612f700" title="Serializes a musly_track to a byte buffer.">musly_track_tobin()</a>, <a class="el" href="#a3b3102cee953f83b0876e693c5457c1f" title="Deserializes a byte buffer to a musly_track.">musly_track_frombin()</a> </dd></dl>

</div>
</div>
<a id="a36d3b66838e438c8ae065edc422df953" name="a36d3b66838e438c8ae065edc422df953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36d3b66838e438c8ae065edc422df953">&#9670;&#160;</a></span>musly_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a69598017d76c3d22e9f5a897afae1932">MUSLY_EXPORT</a> const char * musly_version </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the version of Musly. </p>
<dl class="section return"><dt>Returns</dt><dd>the version as a null terminated string </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Nov 3 2024 09:32:25 for Musly by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
